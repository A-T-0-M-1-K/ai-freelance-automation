# A generic, single database configuration for Alembic.

[alembic]
# Path to the migrations directory.
script_location = %(here)s

# Template used for new migration files.
file_template = %%(year)d%%(month).2d%%(day).2d_%%(hour).2d%%(minute).2d%%(second).2d_%%(slug)s

# Timezone for timestamps in migration filenames.
timezone = UTC

# Maximum length of the version identifier (default is 32).
# version_length = 32

# Logging configuration.
# This key allows Alembic to use Python's logging module.
# See env.py for actual logger setup.
# sqlalchemy.url is intentionally left empty â€” it will be loaded from environment or config.

# The SQLAlchemy URL is NOT hardcoded here for security.
# It will be injected dynamically from core.config or .env via env.py.
sqlalchemy.url =

# Output encoding for generated files.
output_encoding = utf-8

# Whether to prepend a 'down_revision = None' in the first migration.
# Should be False if you're using a pre-existing schema.
# trunk_migrations.first_rev = True

# Track all tables, even those not managed by Alembic.
# include_schemas = false

# Custom metadata target (used in env.py).
# target_metadata = ai_freelance_automation.db.base.metadata

[post_write_hooks]
# Post-write hooks allow running commands after a migration is generated.
# Example: auto-format with Black
# hooks = black
# black.type = console_scripts
# black.entrypoint = black
# black.options = --line-length=100 %(path)s

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %Y-%m-%d %H:%M:%S